# TIL(2022.05.01)

> date: 2022.05.01</br>
> ì§„í–‰ì¤‘ì¸ í”„ë¡œì íŠ¸: ios-bank-manager
> í™œë™í•™ìŠµ ì£¼ì œ: x

## ğŸ‘©ğŸ»â€ğŸ’»í•™ìŠµë‚´ìš©
### ğŸ”¥ ë¶ˆíƒ€ëŠ” í† ìš”ìŠ¤í„°ë”” ë³µìŠµ - TableViewController

ë§Œêµ­ë°•ëŒíšŒ í”„ë¡œì íŠ¸ë¥¼ í•œì§€ ì˜¤ë˜ ì§€ë‚˜ì§€ ì•Šì•˜ëŠ”ë°ë„, TableViewì— ëŒ€í•´ ë²Œì¨ ê¹Œë¨¹ì€ ë¶€ë¶„ì´ ìˆë‹¤ë‹ˆ ì†Œë¦„ë‹ì•˜ë‹¤.. ê·¸ë¦¬ê³  ë§Œêµ­ë°•ëŒíšŒ í”„ë¡œì íŠ¸ì—ì„œëŠ” `section`ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ì—ˆëŠ”ë°, ì´ë²ˆ ì‹¤í—˜ì—ì„œ `section` ê°œë…ì„ ì‚¬ìš©í•´ë³¼ ìˆ˜ ìˆì—ˆë‹¤. ì´ë˜ì„œ í† ìš”ìŠ¤í„°ë”” í•˜ëŠ”êµ¬ë‚˜ğŸ˜‡

**[ì•„ë˜ í™”ë©´ í…Œì´ë¸”ë·°ë¡œ êµ¬í˜„í•˜ê¸°]**

![](https://i.imgur.com/cUTLtM2.png)

#### 1. `section`ë§ˆë‹¤ headerì— `FoodType` ê°’ ë„£ì–´ì£¼ê¸°

- enumìœ¼ë¡œ ì„ ì–¸ëœ FoodTypeì— String íƒ€ì…ìœ¼ë¡œ raw valueë¥¼ ì£¼ê³ , CaseIterable í”„ë¡œí† ì½œì„ ì±„íƒí•´ì„œ raw valueì˜ ê°’ë“¤ì„ ì»¬ë ‰ì…˜ìœ¼ë¡œ ë§Œë“¤ì–´ì„œ arrayì˜ indexë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í–ˆë‹¤

```swift=
func tableView(_ tableView: UITableView, titleForHeaderInSection section: Int) -> String? {
    let array = FoodType.allCases
    return array[section].rawValue
}
```

#### 2. ê° `section`ë§ˆë‹¤ ê° `FoodType` ìˆ˜ì— ë§ëŠ” row ìƒì„±í•˜ê¸°

- numberOfRowsInSection ë©”ì„œë“œì—ì„œ ê° ì„¹ì…˜ì— ë§ëŠ” FoodTypeì„ ì°¾ê¸°
    - `let foodType = FoodType.allcases[section]`
- í•´ë‹¹ foodTypeì˜ food ìˆ˜ë§Œí¼ row ë¦¬í„´í•˜ê¸°
    - `guard let foods = menu[foodType] else { return 0 }`
    - `return foods.count`

#### 3. ê° `section`ì˜ `FoodType`ì— ë§ëŠ” ë©”ë‰´ í‘œì‹œí•˜ê¸°
- cellForRowAt ë©”ì„œë“œì—ì„œ sectionì„ í™œìš©í•˜ì—¬ í‘œì‹œ

```swift=
func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {
    guard let cell = tableView.dequeueReusableCell(withIdentifier: "MyCell", for: indexPath) as? CustomTableViewCell else {
            return UITableViewCell()
        }
        
    // í•´ë‹¹ cellì— í‘œì‹œí•  FoodTypeì„ ì •í•´ì¤€ë‹¤
    let foodType = FoodType.allCases[indexPath.section]
        
    // í•´ë‹¹ FoodTypeì˜ ë©”ë‰´ë“¤ì„ cellì˜ labelì— í‘œì‹œí•´ì¤€ë‹¤
    guard let foods = menu[foodType] else {
        return UITableViewCell()
    }
        
    for _ in foods {
        cell.setContentsOfCell(food: foods[indexPath.row])
    }
    
    return cell
}
```

