# SwiftUIì—ì„œ PropertyWrapper ì‚¬ìš©í•´ë³´ê¸°

## ğŸ‘©ğŸ»â€ğŸ’» UIKit vs SwiftUI

PropertyWrapperì— ëŒ€í•´ì„œ ì–˜ê¸°í•˜ê¸° ì „ì— ì ê¹ UIKitê³¼ SwiftUIë¥¼ ë¹„êµí•´ë³´ìë©´,

> `UIKit`ì€ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ë ˆì´ì•„ì›ƒì„ ì„¤ê³„í•˜ê³ , í•„ìš”í•œ ë™ì‘ì„ êµ¬í˜„í•œë‹¤ë©´
`SwiftUI`ëŠ” í™”ë©´ì„ êµ¬ì„±í•˜ëŠ” ìš”ì†Œì— ëŒ€í•œ ë ˆì´ì•„ì›ƒê³¼ ëª¨ì–‘ì— ëŒ€í•œ ë””í…Œì¼í•œ ë‚´ì—­ì„ ì§ì ‘ ì„¤ê³„í•˜ì§€ ì•Šê³ ,
ë‹¨ìˆœí•˜ë©´ì„œë„ ì§ê´€ì ì¸ êµ¬ë¬¸ì„ ì´ìš©í•´ í™”ë©´ì„ êµ¬ì„±í•˜ê²Œ í•´ì¤€ë‹¤ê³  í•œë‹¤.

ì´ë ‡ë‹¤ê³  í•œë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ì„œ, ì–´ë–¤ ë²„íŠ¼ì´ ëˆŒë ¸ì„ ë•Œ ë°°ê²½ìƒ‰ì„ ë°”ê¾¸ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ë³´ë©´ ë‘˜ì´ í™•ì‹¤íˆ ë‹¤ë¥¸ ê²ƒ ê°™ë‹¤.

UIKit
- Button ëˆŒë¦¼ 
- ê·¸ Buttonê³¼ ì—°ê²°ëœ ì•¡ì…˜ (tapButton()) í˜¸ì¶œë¨
- viewì˜ ë°±ê·¸ë¼ìš´ë“œ ì»¬ëŸ¬ë¥¼ ì§ì ‘ ë³€ê²½
==> Event Driven (ë·° ì´ë²¤íŠ¸ ë°œìƒì— ë”°ë¼ êµ¬ì„±)

SwiftUI
- Button ëˆŒë¦¼
- isButtonTappedë¼ëŠ” Bool íƒ€ì…ì˜ í”„ë¡œí¼í‹°ì˜ ê°’ì´ ë°”ë€œ
- isButtonTappedì˜ ê°’ì— ë”°ë¼ ë¯¸ë¦¬ ì„ ì–¸ëœëŒ€ë¡œ viewê°€ ë‹¤ì‹œ ê·¸ë ¤ì§
==> Data Driven (ë·°ê°€ ë°ì´í„° ì¤‘ì‹¬ìœ¼ë¡œ êµ¬ì„±ë¨)


SwiftUIëŠ” `ì„ ì–¸ì  êµ¬ë¬¸`(Declarative)ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—, ì‚¬ìš©ìì˜ ì¸í„°í˜ì´ìŠ¤ì˜ ê¸°ëŠ¥ì„ `ëª…ì‹œ`í•˜ê¸°ë§Œ í•˜ë©´ ëœë‹¤ê³  í•œë‹¤. 
ê·¸ëŸ¬ë©´ ì½”ë“œê°€ ê°„ë‹¨í•˜ê³  ê°€ë…ì„±ì´ í–¥ìƒë˜ì–´ ì‹œê°„ì´ ì ˆì•½ë˜ê³  ìœ ì§€ ê´€ë¦¬ê°€ ìš©ì´í•˜ë‹¤ ë“±ë“±ì˜ ì¥ì ì´ ìˆëŠ” ê²ƒ ê°™ë‹¤..ğŸ‘€

ì• í”Œ ë§ë¡œëŠ” SwiftUIê°€ 
> A modern way to "declare user interfaces" for any Apple platform.
Create beatiful, dynamic apps faster than ever before.

í•˜ë‹¤ê³  í•œë‹¤ (ì—¬ê¸°ì„œ í•µì‹¬ì€ "declare user interfaces" ì¸ë“¯!)

ê·¸ë¦¬ê³  ë¬´ì—‡ë³´ë‹¤.. SwiftUIëŠ” ì‹œë®¬ë ˆì´í„°ì— ë¹Œë“œí•˜ê³  ì‹¤í–‰í•˜ì§€ ì•Šì•„ë„ previewer canvas ë‚´ì—ì„œ ì•±ì„ ì‹¤í–‰í•˜ê³  í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” ì¥ì ì´ ìˆë‹¤! ì•±ì´ ì»¤ì§€ë©´ ë¹Œë“œ ì‹œê°„ë„ ì˜¤ë˜ê±¸ë¦´í…ë°.. ë¹Œë“œí•˜ê³  ì‹¤í–‰í•˜ì§€ ì•Šì•„ë„ í”„ë¦¬ë·°ì—ì„œ ì‹¤í–‰í•´ë³¼ ìˆ˜ ìˆë‹¤ëŠ”ê±´ ì •ë§ í° ì¥ì ì´ ë  ê²ƒ ê°™ë‹¤.

ê·¸ë¦¬ê³  SwiftUIëŠ” ëŒ€ë¶€ë¶„ êµ¬ì¡°ì²´ì™€ í”„ë¡œí† ì½œë¡œ ì´ë£¨ì–´ì ¸ ìˆëŠ”ë°, ê·¸ ì´ìœ ì— ëŒ€í•´ì„œë„ ê³µë¶€í–ˆë‹¤.

SwiftUIëŠ” ìƒíƒœ ê°’ì´ ë³€ê²½ë˜ë©´ ê·¸ ê°’ì— ê´€ë ¨ëœ ë·°ë¥¼ ê°±ì‹ í•˜ëŠ”ë°, ë‹¤ì‹œ ë·°ë¥¼ ê°±ì‹ í•  ë•Œë§ˆë‹¤ ê°’íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì—°ì‚°í•˜ëŠ” ê²ƒì´ ì°¸ì¡°íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì—°ì‚°í•˜ëŠ” ê²ƒì´ ë” ë¹ ë¥´ê¸° ë•Œë¬¸ì— êµ¬ì¡°ì²´ë¥¼ ë§ì´ ì“´ë‹¤ê³  í•œë‹¤.

ê·¸ë¦¬ê³  êµ¬ì¡°ì²´ë¡œ ë§ì´ ì´ë£¨ì–´ì ¸ìˆë‹¤ë³´ë‹ˆ ìƒì†ì˜ ê¸°ëŠ¥ì„ ìœ„í•´ í”„ë¡œí† ì½œë„ ê°™ì´ ë§ì´ ì‚¬ìš©ëœ ê²ƒ ê°™ë‹¤.

## ğŸ¤” Property Wrapper in SwiftUI

ìœ„ì—ì„œ SwiftUIê°€ Data Drivení•˜ë‹¤ê³  ë§í–ˆëŠ”ë°, Property Wrapper ê·¸ Data Drivenì„ ë•ëŠ” ì¹œêµ¬ë¼ê³  í•œë‹¤.
(@State, @Published, @EnvironmentObject, @StateObject, @Binding... ë“±ë“±)

### ğŸ“Œ @State

> : ì •ë³´ê°€ ë³€í•  ë•Œ, ê´€ë ¨ëœ ë·°ë¥¼ ê°±ì‹ í•œë‹¤

ì–´ë–¤ ì •ë³´ê°€ ë³€í•  ë•Œë§ˆë‹¤ ëª¨ë“  ë·°ë¥¼ ë‹¤ ê°±ì‹ í•´ë²„ë¦¬ë©´ ğŸ¤¯ ì •ë§ ë¹„íš¨ìœ¨ì ì¼ ê²ƒ ê°™ë‹¤. ê·¸ë˜ì„œ @Stateë¥¼ ì“°ë©´, @State í‚¤ì›Œë“œê°€ ë¶™ì–´ì„œ ì •ì˜ëœ í”„ë¡œí¼í‹°ì˜ ì •ë³´ê°€ ë³€í•  ë•Œ, ê·¸ í”„ë¡œí¼í‹°ì™€ ê´€ë ¨ëœ ë·°ë§Œì„ ê°±ì‹ í•´ì¤„ ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.

ê·¼ë° ë·°ì™€ ê´€ë ¨ëœ ë³€ìˆ˜ë¥¼ í•­ìƒ ë·° ë‚´ë¶€ì—ì„œë§Œ ê´€ë¦¬í• ê¹Œ? ğŸ§
âŒ ê·¸ê±´ ì•„ë‹˜. ViewModelì— ì €ì¥í•˜ëŠ” ê²½ìš°ê°€ ë§ì€ë°,
ê·¸ëŸ¼ ëŒ€ì²´ ë·° ì™¸ë¶€ì— ìˆëŠ” í”„ë¡œí¼í‹°ì˜ ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ ì–´ë–»ê²Œ ê·¸ê±¸ ì¶”ì í•´ì„œ ë·°ë¥¼ ê°±ì‹ í• ê¹Œ?

ê·¸ê±¸ ë„ì™€ì£¼ëŠ” Property Wrapperê°€ `@ObservedObject`, `@StateObject`, `@EnvironmentObject` ë¼ê³  í•œë‹¤!

### ğŸ“Œ @EnvironmentObject

![](https://velog.velcdn.com/images/marisol/post/59586d8e-6709-4efc-b8dd-7b8dbd4392cb/image.gif)

![](https://velog.velcdn.com/images/marisol/post/c857235d-0e3a-4a50-abca-8781c18f7a2e/image.png)

"ë¶€ëª¨ë‚˜ ì¡°ìƒ ë·°ì—ì„œ ì œê³µí•˜ëŠ” Observableí•œ(ê´€ì°° ê°€ëŠ¥í•œ) ê°ì²´ì˜ Property Wrapper"ë¼ê³  ì •ì˜ë˜ì–´ ìˆë‹¤.

OverViewë¥¼ ë³´ë©´, 
"observableí•œ ê°ì²´ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ í˜„ì¬ì˜ ë·°ë¥¼ ë¬´íš¨í™” í•œë‹¤. í”„ë¡œí¼í‹°ë¥¼ environment objectë¡œ ì„ ì–¸í•  ê²½ìš°, `environmentObject(_:)` modifierë¥¼ í˜¸ì¶œí•´ì„œ ìƒìœ„ ë·°ì—ì„œ í•´ë‹¹ ëª¨ë¸ ê°ì²´ë¥¼ ì„¤ì •í•´ì•¼í•œë‹¤."
ê³  ë˜ì–´ ìˆë‹¤. 

ê°€ì¥ í° Viewì¸ ContentView ì•ˆì— ToggleView 4ê°œê°€ ë“¤ì–´ê°€ ìˆëŠ” í˜•íƒœë¼ì„œ, ContentViewì—ì„œ `environmentObject(_:)`ë¥¼ í˜¸ì¶œí•´ì£¼ì—ˆë‹¤. ê·¸ëŸ¬ë©´ ToggleViewì—ì„œë„ í•´ë‹¹ ë·° ì™¸ë¶€ì— ìˆëŠ” í”„ë¡œí¼í‹° ê°’ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
ì—¬ê¸°ì„œ ëª¨ë¸ ê°ì²´ëŠ” ViewModel classì´ë‹¤.

ê·¸ ì „ì— ViewModelì´ 
1ï¸âƒ£ ObservableObject í”„ë¡œí† ì½œì„ ì±„íƒí•˜ê³  
2ï¸âƒ£ ì™¸ë¶€ì—ì„œ ê´€ë¦¬í•  í”„ë¡œí¼í‹°ì— @Published í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ì¤˜ì•¼ í•˜ëŠ”ë°,
ObservableObjectëŠ” ê°ì²´ê°€ ë³€ê²½ë˜ê¸° ì „ì— ë‚´ë³´ë‚´ëŠ” publisherê°€ ìˆëŠ” ê°ì²´ ìœ í˜•ì´ê³ ,
@Published í‚¤ì›Œë“œë¥¼ ë¶™ì´ë©´ ê·¸ í”„ë¡œí¼í‹°ì˜ Publisherê°€ ìƒì„±ëœë‹¤.

==> ê°’ì´ ë³€ê²½ë˜ëŠ” í”„ë¡œí¼í‹°ë¥¼ ë·°ì˜ ì™¸ë¶€ì— ì„ ì–¸í•´ì¤€ ê²ƒ!

```swift
class ViewModel: ObservableObject {
  @Published var isEnvironmentToggleOn: Bool = false
}

@main
struct Experiment_SwiftUIApp: App {
  var viewModel = ViewModel()
    var body: some Scene {
      WindowGroup {
        ContentView().environmentObject(viewModel)
        }
    }
}
```

ê·¸ë¦¬ê³  ToggleViewì—ì„œëŠ” ViewModelì˜ `isEnvironmentToggleOn`ì˜ ê°’ì— ë”°ë¼ ë·°ê°€ ë³€ê²½ë  ìˆ˜ ìˆë„ë¡ ì„ ì–¸í•´ë‘ì—ˆë‹¤.

```swift
struct ToggleView: View{
  @State private var isStateToggleOn: Bool = false // stateToggleì€ view ë‚´ë¶€ì—ì„œ ê´€ë¦¬ë¨
    @EnvironmentObject var viewModel: ViewModel
    
    var body: some View {
      ZStack {
          RoundedRectangle(cornerRadius: 20)
              .stroke(lineWidth: 2)
                .foregroundColor(.red)
            
            Vstack {
              Text(isStateToggleOn ? "State On" : "State Off")
                
                Text(viewModel.isEnvironmentToggleOn ? "Environment On" : "Environment Off")
                
                Toggle("State", isOn: $isStateToggleOn)
                  .padding(.all)
                Toggle("Environment", isOn: $viewModel.isEnvironmentToggleOn)
                  .padding(.all)
            }
        }
        .aspectRatio(contentMode: .fit)
        .padding()
    }
}
```

ê·¸ëŸ¬ë©´ ContentViewì—ì„œëŠ” ToggleViewë¥¼ 4ê°œ ë„£ì–´ì£¼ë©´ ëœë‹¤
```swift
struct ContentView: View {
  var body: some View {
      LazyVGrid(columns: [GridItem(), GridItem()]) {
          ToggleView()
            ToggleView()
            ToggleView()
            ToggleView()
        }
    }
}
```

### ğŸ“Œ @ObservedObject

![](https://velog.velcdn.com/images/marisol/post/93ede472-cc31-4a8f-8002-173d9ae4e3ff/image.png)

"Observableí•œ ê°ì²´ë¥¼ subscribe (ê´€ì°°í•˜ê² ë‹¤ê³  ë“±ë¡? í•˜ëŠ” ëŠë‚Œì¸ë“¯..) í•˜ê³ , ê·¸ ê°ì²´ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ viewë¥¼ ë¬´íš¨í™”í•˜ëŠ” Property Wrapper" ë¼ê³  ì •ì˜ë˜ì–´ ìˆë‹¤.

Observableí•œ ê°ì²´ì¸ ViewModelì„ ê´€ì°°í•˜ê³ , ê·¸ ê°ì²´ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ viewë¥¼ ë¬´íš¨í™”í•˜ê³  ë‹¤ì‹œ ê·¸ë¦¬ê² ë‹¤ëŠ” ì˜ë¯¸ì¸ ê²ƒ ê°™ë‹¤.

```swift
struct ContentView: View {
  var viewModel = ViewModel()
    
    var body: some View {
      LazyVGrid(columns: [GridItem(), GridItem()]) {
          ToggleView(viewModel: viewModel)
            ToggleView(viewModel: viewModel)
            ToggleView(viewModel: viewModel)
            ToggleView(viewModel: viewModel)
        }
    }
}
```
ê°ê°ì˜ ToggleViewê°€ ìƒì„±ë  ë•Œ ContentViewì˜ @ObservedObjectë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ê³ , ToggleView ë‚´ë¶€ì—ì„œ ê·¸ ê°’ì— ë”°ë¼ Viewë¥¼ í‘œì‹œí•˜ëŠ” ê²ƒ ê°™ë‹¤.

ê·¸ëŸ¬ë©´ State Toggleì€ ê°ê°ì˜ ToggleViewì—ì„œ ë”°ë¡œ ë„ê³  ì¼¤ ìˆ˜ ìˆê³ , Environment Toggleì€ í•˜ë‚˜ì˜ ë·°ì—ì„œ ì¼œë©´ ë‚˜ë¨¸ì§€ ë·°ì—ì„œë„ ë‹¤ ì¼œì§€ë„ë¡ ì˜ ëœë‹¤!

![](https://velog.velcdn.com/images/marisol/post/59586d8e-6709-4efc-b8dd-7b8dbd4392cb/image.gif)

---

ì°¸ê³ ìë£Œ
- https://developer.apple.com/documentation/swiftui/environmentobject
- https://developer.apple.com/documentation/swiftui/observedobject
