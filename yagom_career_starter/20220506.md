# TIL(2022.05.06)

> date: 2022.05.06</br>
> ì§„í–‰ì¤‘ì¸ í”„ë¡œì íŠ¸: ios-bank-manager
> í™œë™í•™ìŠµ ì£¼ì œ: Responder Chain

## ğŸ‘©ğŸ»â€ğŸ’»í•™ìŠµë‚´ìš©
### ğŸ“Œ Using Responders and the Responder Chain to Handle Events

- Appì€ responder ê°ì²´ë¥¼ ì´ìš©í•´ ì´ë²¤íŠ¸ë¥¼ ë°›ê³  ì²˜ë¦¬í•œë‹¤
- responder ê°ì²´ëŠ” UIResponder í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§í•˜ëŠ”ë°, UIView, UIViewController, UIApplication ë“± ì´ ìˆë‹¤
- responderëŠ” raw dataë¥¼ ë°›ìœ¼ë©°, ë°˜ë“œì‹œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê±°ë‚˜ ë˜ëŠ” ë‹¤ë¥¸ ê°ì²´ë¡œ ë„˜ê²¨ì•¼ í•œë‹¤
- Appì´ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•˜ë©´, UIKitì€ ìë™ìœ¼ë¡œ ê°€ì¥ ì ì ˆí•œ responder ê°ì²´ (first responder)ë¡œ ì´ë²¤íŠ¸ë¥¼ ë³´ë‚¸ë‹¤
- ì²˜ë¦¬ë˜ì§€ ì•Šì€ ì´ë²¤íŠ¸ë“¤ì€ responder chain ë‚´ì—ì„œ í•œ responderì—ì„œ ë‹¤ë¥¸ responderë¡œ ì „ë‹¬ëœë‹¤

![](https://i.imgur.com/fVE8pR9.png)


- Gesture RecognizerëŠ” viewë³´ë‹¤ ë¨¼ì € touch ì™€ press ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•œë‹¤
- Gesture Recognizerê°€ touch ê²°ê³¼ë¥¼ ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš°ì— UIKitì´ viewë¡œ touch ê²°ê³¼ë¥¼ ì „ì†¡í•œë‹¤
- viewê°€ touchë¥¼ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš°, UIKitì´ responder chainìœ¼ë¡œ touchë¥¼ ì „ë‹¬í•œë‹¤

- touch ìˆ˜ì‹ í•˜ëŠ” ìˆœì„œ: Gesture Recognizer -> View -> Responder Chain

- UIKitì€ ë·° ê¸°ë°˜ì˜ hit-testë¥¼ í†µí•´ ì–´ë””ì„œ touch eventsê°€ ë°œìƒí–ˆëŠ”ì§€ ì•Œì•„ë‚¸ë‹¤
- íŠ¹íˆ, UIKitì€ touch ìœ„ì¹˜ë¥¼ ë·° ê³„ì¸µêµ¬ì¡°ì˜ ë·° ê°ì²´ì˜ ê²½ê³„ì™€ ë¹„êµí•œë‹¤
- hitTest(_:with:) ë©”ì„œë“œëŠ” ë·° ê³„ì¸µì„ í†µê³¼í•˜ì—¬ ì§€ì •ëœ í„°ì¹˜ë¥¼ í¬í•¨í•˜ëŠ” ê°€ì¥ ê¹Šì€ í•˜ìœ„ ë·°ë¥¼ ì°¾ëŠ”ë‹¤ -> touch eventì— ëŒ€í•œ first responderê°€ ëœë‹¤
- touch ìœ„ì¹˜ê°€ ë·°ì˜ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” ê²½ìš°, hitTestë©”ì„œë“œëŠ” í•´ë‹¹ ë·°ì™€ í•˜ìœ„ë·°ë¥¼ ë¬´ì‹œí•œë‹¤
- viewì˜ clipToBounds ì†ì„±ì´ falseì¸ ê²½ìš°, í•´ë‹¹ viewì˜ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” í•˜ìœ„ viewëŠ” return ë˜ì§€ ì•ŠëŠ”ë‹¤

- Touchê°€ ë°œìƒí•˜ë©´ UIKitì€ UITouch ê°ì²´ë¥¼ ë§Œë“¤ê³  viewì™€ ì—°ê²°í•œë‹¤
- Touchì˜ ìœ„ì¹˜ ë˜ëŠ” ë‹¤ë¥¸ íŒŒë¼ë¯¸í„°ê°€ ë³€ê²½ë˜ë©´ UIKitì€ ë™ì¼í•œ UITouch ê°ì²´ë¥¼ ìƒˆ ì •ë³´ë¡œ ì—…ë°ì´íŠ¸í•œë‹¤
- Touchê°€ ëë‚˜ë©´ UIKitì€ UITouch ê°ì²´ë¥¼ í•´ì œí•œë‹¤

#### Responder Chain ë³€ê²½

Responder Chainì˜ next í”„ë¡œí¼í‹°ë¥¼ ì˜¤ë²„ë¼ì´ë”©í•˜ì—¬ Responder Chain ë³€ê²½ ê°€ëŠ¥
ì´ë¯¸ ë§ì€ UIKit í´ë˜ìŠ¤ë“¤ì€ next í”„ë¡œí¼í‹°ë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ì—¬ íŠ¹ì • ê°ì²´ë¥¼ ë¦¬í„´í•˜ë„ë¡ í•´ë‘ì—ˆë‹¤
- UIView: ë§Œì•½ viewê°€ ì–´ë–¤ view controllerì˜ root viewë¼ë©´, next responderëŠ” view controllerì´ë‹¤ (ì•„ë‹ˆë¼ë©´, next responderëŠ” ê·¸ viewì˜ superviewë‹¤)
- UIViewController: ë§Œì•½ ì–´ë–¤ view controllerì˜ viewê°€ windowì˜ rootë¼ë©´, next responderëŠ” window ê°ì²´ë‹¤ (ë§Œì•½ view controllerê°€ ë‹¤ë¥¸ view controllerì— ì˜í•´ present ë˜ì—ˆë‹¤ë©´, next responderëŠ” ê·¸ view controllerì´ë‹¤)
- UIWindow: windowì˜ next responderëŠ” UIApplication ê°ì²´ë‹¤
- UIApplication: next responderëŠ” app delegateì´ì§€ë§Œ, app delegateì´ UIResponderì˜ ì¸ìŠ¤í„´ìŠ¤ì´ë©°, view, view controller, app ê°ì²´ ìì²´ê°€ ì•„ë‹Œ ê²½ìš°ì—ë§Œ í•´ë‹¹ëœë‹¤


### ğŸ“Œ Handling UIKit Gestures

- Gesture RecognizerëŠ” touch ë° press eventë¥¼ ì²˜ë¦¬í•˜ëŠ” ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì´ë‹¤
- ëª¨ë“  viewì— í•˜ë‚˜ ì´ìƒì˜ Gesture recognizerë¥¼ ì—°ê²°í•  ìˆ˜ ìˆë‹¤
- Gesture RecognizerëŠ” í•´ë‹¹ viewê°€ ìˆ˜ì‹ í•œ eventë¥¼ ì²˜ë¦¬í•˜ëŠ”ë° í•„ìš”í•œ ëª¨ë“  ë¡œì§ì„ ìº¡ìŠí™”í•˜ê³  íŒ¨í„´ê³¼ ë§¤ì¹­í•œë‹¤
- ë§¤ì¹­ì´ ê°ì§€ë˜ë©´, Gesture RecognizerëŠ” í• ë‹¹ëœ target ê°ì²´ì—ê²Œ ì•Œë¦°ë‹¤ (ViewController, View ë˜ëŠ” ì•±ì˜ ë‹¤ë¥¸ ê°ì²´ì¼ ìˆ˜ ìˆìŒ)

- Gesture RecognizerëŠ” target-action ë””ìì¸ íŒ¨í„´ì„ ì‚¬ìš©í•´ ì•Œë¦¼ì„ ì „ì†¡í•œë‹¤
    - ì˜ˆë¥¼ ë“¤ì–´ UITapGestureRecognizer ê°ì²´ëŠ” single-finger tapì„ ê°ì§€í•˜ë©´ ì‘ë‹µì„ ì œê³µí•˜ëŠ” viewControllerì˜ action ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤

![](https://i.imgur.com/OHiGkNu.png)

---
ì°¸ê³ ìë£Œ
- https://developer.apple.com/documentation/uikit/touches_presses_and_gestures/using_responders_and_the_responder_chain_to_handle_events
