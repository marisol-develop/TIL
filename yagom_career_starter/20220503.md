# TIL(2022.05.03)

> date: 2022.05.03</br>
> ì§„í–‰ì¤‘ì¸ í”„ë¡œì íŠ¸: ios-bank-manager
> í™œë™í•™ìŠµ ì£¼ì œ: x

## ğŸ‘©ğŸ»â€ğŸ’»í•™ìŠµë‚´ìš©
## ğŸ“ ì½”ë“œë¡œ ë²„íŠ¼ ìƒì„±í•˜ê³  ì˜¤í† ë ˆì´ì•„ì›ƒ ë„£ì–´ë³´ê¸°

- UIButton ìƒì„±
- translatesAutoresizingMaskIntoConstraintsë¥¼ falseë¡œ ì„¤ì • (ë·°ì˜ ìë™ í¬ê¸° ì¡°ì • ë§ˆìŠ¤í¬ê°€ ìë™ ë ˆì´ì•„ì›ƒ ì œì•½ ì¡°ê±´ìœ¼ë¡œ ë³€í™˜ë˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ëŠ” ë¶€ìš¸ ê°’)
- viewDidLoad()ì—ì„œ viewì— buttonì„ ì¶”ê°€
- ê° attribute ì„¤ì •í•˜ê³  isActiveë¥¼ trueë¡œ ì„¤ì •
- í•„ìš”í•œ ê²½ìš° priority ì„¤ì • (required -> defaultHigh -> defaultLowìˆœì¸ê±° ê°™ë‹¤)

### ğŸ“Œ Anchor ì‚¬ìš©

```swift
class AnchorViewController: UIViewController {
    let button: UIButton = UIButton()

    override func viewDidLoad() {
        super.viewDidLoad()
        view.addSubview(button)
        configureButton()
    }

    func configureButton() {
        let safeArea = view.safeAreaLayoutGuide
        button.translatesAutoresizingMaskIntoConstraints = false

        let safeAreaBottom = button.bottomAnchor.constraint(equalTo: safeArea.bottomAnchor)
        safeAreaBottom.isActive = true
        safeAreaBottom.priority = .defaultHigh

        let viewBottom = button.bottomAnchor.constraint(lessThanOrEqualTo: view.bottomAnchor, constant: -20)
        viewBottom.isActive = true
        viewBottom.priority = .required

        button.leadingAnchor.constraint(equalTo: view.leadingAnchor, constant: 20).isActive = true
        button.trailingAnchor.constraint(equalTo: view.trailingAnchor, constant: -20).isActive = true

        button.setTitle("button", for: .normal)
        button.backgroundColor = .systemGreen
    }
}
```

---

### ğŸ“Œ NSLayoutConstraint ì‚¬ìš©

```swift
class NSLayoutViewController: UIViewController {
    let button = UIButton()
    
    override func viewDidLoad() {
        super.viewDidLoad()
        view.addSubview(button)
        configureButton()
    }
    
    func configureButton() {
        let safeArea = view.safeAreaLayoutGuide
        button.translatesAutoresizingMaskIntoConstraints = false
        
        button.setTitle("button", for: .normal)
        button.backgroundColor = .systemGreen
        
        NSLayoutConstraint(item: button,
                           attribute: .leading,
                           relatedBy: .equal,
                           toItem: view,
                           attribute: .leading,
                           multiplier: 1,
                           constant: 20).isActive = true
        
        NSLayoutConstraint(item: button,
                           attribute: .trailing,
                           relatedBy: .equal,
                           toItem: view,
                           attribute: .trailing,
                           multiplier: 1,
                           constant: -20).isActive = true
        
        let safeAreaBottom = NSLayoutConstraint(item: button,
                                                attribute: .bottom,
                                                relatedBy: .equal,
                                                toItem: safeArea,
                                                attribute: .bottom,
                                                multiplier: 1,
                                                constant: 0)
        
        let viewBottom = NSLayoutConstraint(item: button,
                                            attribute: .bottom,
                                            relatedBy: .lessThanOrEqual,
                                            toItem: view,
                                            attribute: .bottom,
                                            multiplier: 1,
                                            constant: -20)
        
        safeAreaBottom.priority = .defaultHigh
        viewBottom.priority = .required
        
    // ë°°ì—´ì— ë„£ì–´ í•œë²ˆì— activate ê°€ëŠ¥
        NSLayoutConstraint.activate([safeAreaBottom, viewBottom])
    }
}
```

---

### ğŸ“Œ ìŠ¤í† ë¦¬ë³´ë“œì—ì„œ UIêµ¬í˜„í•  ë•Œì™€ ì½”ë“œë¡œ UIêµ¬í˜„í•  ë•Œ Constraints ì°¨ì´ì 

#### ìŠ¤í† ë¦¬ë³´ë“œ

```swift
Superview.Bottom >= 1.0 x Button.Bottom + 20
```

#### Anchor

```swift
button.bottomAnchor.constraint(lessThanOrEqualTo: view.bottomAnchor, constant: -20)
```

#### NSLayoutConstraint

```swift
NSLayoutConstraint(item: button,
                   attribute: .bottom,
                   relatedBy: .lessThanOrEqual,
                   toItem: view,
                   attribute: .bottom,
                   multiplier: 1,
                   constant: -20)
```

---

> ìŠ¤í† ë¦¬ë³´ë“œì—ì„œì˜ **greaterThanOrEqualTo**ì™€ **constant: 20**ì´ 
> Anchorê³¼ NSLayoutConstraintì—ì„œëŠ” **lessThanOrEqualTo**ê³¼ **constant: -20**ìœ¼ë¡œ ë³€ê²½ëœë‹¤

ìŠ¤í† ë¦¬ë³´ë“œì—ì„œëŠ” FirstItemì´ view, SecondItemì´ buttonì´ê³ , 
Anchorê³¼ NSLayoutConstraintì—ì„œëŠ” itemì´ buttonì´ê³  toItemì´ viewì´ê¸° ë•Œë¬¸ì— ì£¼ì²´ê°€ ë³€ê²½ë˜ì—ˆê¸° ë•Œë¬¸ì´ë¼ê³  ìƒê°ë¨

---
ì°¸ê³ ìë£Œ
- https://yagom.net/courses/autolayout/lessons/constraints-with-code/
